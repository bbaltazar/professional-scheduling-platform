# üöÄ Mortgage Payment Automation - Quick Start Guide

## Step 1: Install Selenium

```bash
pip install selenium
```

## Step 2: Run the Inspector (REQUIRED FIRST TIME)

This interactive tool will help you identify the correct HTML elements:

```bash
python scripts/inspect_mortgage_site.py
```

### What will happen:
1. Chrome browser opens at the login page
2. Terminal shows instructions for each step
3. You **manually** click through while inspecting elements
4. You copy element IDs/names from DevTools
5. Script saves everything to `mortgage_selectors.json`

### Example flow:
```
STEP 1: 'Log in with password' Button
==========================================================================

üìã WHAT TO DO:
   Find the button/link that says 'Log in with password'

üîç HOW TO INSPECT:
   1. Right-click on the element ‚Üí 'Inspect' (or press F12)
   2. In DevTools, find the HTML tag for this element
   3. Look for one of these attributes:
      ‚Ä¢ id="..."
      ‚Ä¢ name="..."
      ‚Ä¢ class="..."

üí° EXAMPLE:
   If you see HTML like:
       <button id="password-login-btn">Log in with password</button>
   
   ‚Üí Copy: password-login-btn
   ‚Üí Selector type: id

‚è∏Ô∏è  Press ENTER after you've inspected the button...

üìù Paste the id/name/text here: password-login-btn
üìù Selector type (id/name/text/css): id
```

## Step 3: Set Up Environment Variables

Create `.env.mortgage`:
```bash
cp .env.mortgage.example .env.mortgage
nano .env.mortgage
```

Add your actual credentials:
```bash
MORTGAGE_EMAIL=your.email@example.com
MORTGAGE_PASSWORD=your_secure_password
MORTGAGE_PHONE=5551234567
MORTGAGE_ROUTING_NUMBER=123456789
MORTGAGE_ACCOUNT_NUMBER=9876543210
```

## Step 4: Run the Payment Script

```bash
# Load environment variables
source .env.mortgage

# Run the automation
python scripts/pay_mortgage.py
```

## Expected Output:

```
====================================================================
     AUTOMATED MORTGAGE PAYMENT SCRIPT
====================================================================

üìÇ Loading element selectors...
üöÄ Starting mortgage payment automation...

üì± Setting up Chrome driver...
üåê Navigating to portal.hoaorganizers.com/login...
üîê Clicking 'Log in with password'...
üîç Looking for: 'Log in with password' button (type=id, value=password-login-btn)
üìß Entering email: you***@example.com...
üîë Entering password...
‚úÖ Clicking login button...
üí∞ Clicking 'Make online payment'...
üìû Entering phone number: ***-***-4567...
üè¶ Selecting 'Pay by eCheck'...
üî¢ Entering routing number: ***6789...
üí≥ Entering account number: ***3210...
üí≥ Confirming account number...
‚úîÔ∏è  Checking agreement checkbox...
‚û°Ô∏è  Clicking 'Next'...
üéØ Clicking 'Submit Payment'...

‚è≥ Waiting for payment confirmation...

‚úÖ ‚úÖ ‚úÖ PAYMENT SUCCESSFUL! ‚úÖ ‚úÖ ‚úÖ
Confirmation message: Your payment has been successfully processed

üì∏ Screenshot saved to: /tmp/mortgage_payment_20251202_090530.png

====================================================================
     ‚úÖ Script completed successfully!
====================================================================
```

## Troubleshooting:

### "mortgage_selectors.json not found"
‚Üí Run `python scripts/inspect_mortgage_site.py` first!

### Element not found errors
‚Üí The website structure may have changed
‚Üí Re-run the inspector to update selectors

### Timeout errors
‚Üí Your internet might be slow
‚Üí Increase timeout values in pay_mortgage.py

### Want to see it in action?
‚Üí Make sure headless mode is OFF (commented out):
```python
# chrome_options.add_argument('--headless')  # ‚Üê Should be commented
```

## Files Created:

- ‚úÖ `scripts/inspect_mortgage_site.py` - Interactive inspector tool
- ‚úÖ `scripts/pay_mortgage.py` - Automated payment script
- ‚úÖ `scripts/mortgage_selectors.json` - (Generated by inspector)
- ‚úÖ `.env.mortgage` - Your credentials (DO NOT COMMIT)

## Security Notes:

‚ö†Ô∏è **NEVER commit `.env.mortgage` to git!**
- It's already in `.gitignore`
- Contains sensitive bank information
- Keep it local only

## Next Steps:

Want to automate monthly? Add to crontab:
```bash
# Run on 1st of every month at 9 AM
0 9 1 * * cd /Users/brianabaltazar/SoftwareEngineering/apps/calendar_app && source .env.mortgage && python3 scripts/pay_mortgage.py >> /tmp/mortgage_payment.log 2>&1
```

---

**Need help?** Check the full README: `scripts/MORTGAGE_PAYMENT_README.md`
